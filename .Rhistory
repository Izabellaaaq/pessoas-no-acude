bobs.carros <- read.csv('dados/brutos/Contagens Açude Velho - Bob´s - Carros.csv')
View(bobs.carros)
library(dplyr)
source('~/Projetos/lab-rua/pessoas-no-acude/src/juntador.R', echo=TRUE)
View(bobs.carros)
source('~/Projetos/lab-rua/pessoas-no-acude/src/juntador.R', echo=TRUE)
View(bobs.carros)
View(bobs.carros)
source('~/Projetos/lab-rua/pessoas-no-acude/src/juntador.R', echo=TRUE)
View(bobs.carros)
source('~/Projetos/lab-rua/pessoas-no-acude/src/juntador.R', echo=TRUE)
View(bobs.carros)
source('~/Projetos/lab-rua/pessoas-no-acude/src/juntador.R', echo=TRUE)
source('~/Projetos/lab-rua/pessoas-no-acude/src/juntador.R', echo=TRUE)
source('~/Projetos/lab-rua/pessoas-no-acude/src/juntador.R', echo=TRUE)
source('~/Projetos/lab-rua/pessoas-no-acude/src/juntador.R', echo=TRUE)
source('~/Projetos/lab-rua/pessoas-no-acude/src/juntador.R', echo=TRUE)
source('~/Projetos/lab-rua/pessoas-no-acude/src/juntador.R', echo=TRUE)
source('~/Projetos/lab-rua/pessoas-no-acude/src/juntador.R', echo=TRUE)
source('~/Projetos/lab-rua/pessoas-no-acude/src/juntador.R', echo=TRUE)
bobs.carros %>%
head(nrow())
head(bobs.carros)
head(bobs.carros, nrow())
head(bobs.carros, nrow(bobs.carros))
head(bobs.carros, nrow(bobs.carros)-1)
source('~/Projetos/lab-rua/pessoas-no-acude/src/juntador.R', echo=TRUE)
View(bobs.carros)
source('~/Projetos/lab-rua/pessoas-no-acude/src/juntador.R', echo=TRUE)
source('~/Projetos/lab-rua/pessoas-no-acude/src/juntador.R', echo=TRUE)
source('~/Projetos/lab-rua/pessoas-no-acude/src/juntador.R', echo=TRUE)
View(bobs.carros)
source('~/Projetos/lab-rua/pessoas-no-acude/src/juntador.R', echo=TRUE)
View(bobs.carros)
bobs.ciclistas <- read.csv('dados/brutos/Contagens Açude Velho - Bob´s - Ciclistas.csv')
View(bobs.ciclistas)
select(bobs.carros, :-10)
select(bobs.carros, -6:9)
select(bobs.carros, -one_of(6:9))
select(bobs.carros, -one_of(names(6:9))
c
select(bobs.carros, -one_of(names(6:9)))
names(bobs.carros[6:9])
select(bobs.carros, -one_of(names(.[6:9])))
select(bobs.carros, -one_of(names(bobs.carros[6:9])))
ajeita.formato <- function(d, ultimas.linhas = 1, ultimas.colunas = 1) {
d %>%
rename(horario.inicial = X, horario.final = X.1) %>%
head(nrow(.)-ultimas.linhas) %>%
select(., -one_of(names(.[ncol(.)-ultimas.colunas+1:ncol(.)])))
}
bobs.carros <- read.csv('dados/brutos/Contagens Açude Velho - Bob´s - Carros.csv')
View(bobs.carros)
ajeita.formato(bobs.carros, ultimas.colunas = 2)
bobs.carros %>%
rename(horario.inicial = X, horario.final = X.1) %>%
head(nrow(.)-ultimas.linhas)
ultimas.linhas=1
bobs.carros %>%
rename(horario.inicial = X, horario.final = X.1) %>%
head(nrow(.)-ultimas.linhas) %>%
c
bobs.carros %>%
head(nrow(.)-1)
bobs.carros %>%
head(nrow(.)-1) %>%
select(., -one_of(names(.[ncol(.)-1+1:ncol(.)])))
bobs.carros %>%
head(nrow(.)-1) %>%
select(., -one_of(names(.[1+ncol(.)-1:ncol(.)])))
ajeita.formato <- function(d, ultimas.linhas = 1, ultimas.colunas = 1) {
d %>%
rename(horario.inicial = X, horario.final = X.1) %>%
head(nrow(.)-ultimas.linhas) %>%
select(., -one_of(names(.[ncol(.)-ultimas.colunas:ncol(.)])))
}
bobs.carros %>%
ajeita.formato()
ajeita.formato <- function(d, ultimas.linhas = 1, ultimas.colunas = 1) {
d %>%
rename(horario.inicial = X, horario.final = X.1) %>%
head(nrow(.)-ultimas.linhas) %>%
select(., -one_of(names(.[(ncol(.)+1)-ultimas.colunas:ncol(.)])))
}
bobs.carros %>%
ajeita.formato()
bobs.carros %>%
select(., -one_of(names(.[9-10])))
bobs.carros %>%
select(., -one_of(names(.[9:10])))
ncol(bobs.carros)
bobs.carros[ncol(bobs.carros):ncol(bobs.carros)]
bobs.carros[ncol(bobs.carros)-1:ncol(bobs.carros)]
ncol(bobs.carros)-1
bobs.carros[(ncol(bobs.carros)-1):ncol(bobs.carros)]
bobs.carros[(ncol(bobs.carros)-1+1):ncol(bobs.carros)]
bobs.carros[(ncol(bobs.carros)-1+1):ncol(bobs.carros)]
ajeita.formato <- function(d, ultimas.linhas = 1, ultimas.colunas = 1) {
d %>%
rename(horario.inicial = X, horario.final = X.1) %>%
head(nrow(.)-ultimas.linhas) %>%
select(., -one_of(names(.[(ncol(.)-1+ultimas.colunas):ncol(.)])))
}
bobs.carros %>%
ajeita.formato()
rowSums(bobs.carros[3:4])
grep(names(bobs.carros), pattern = 'trajeto\.[0-9]+')
grep(names(bobs.carros), pattern = 'trajeto\\.[0-9]+')
ajeita.formato <- function(d, ultimas.linhas, ultimas.colunas) {
d %>%
rename(horario.inicial = X, horario.final = X.1) %>%
head(nrow(.)-ultimas.linhas) %>%
select(., -one_of(names(.[(ncol(.)-1+ultimas.colunas):ncol(.)]))) %>%
mutate(total = rowSums(.[grep(names(.), pattern = 'trajeto\\.[0-9]+')]))
}
bobs.carros <- read.csv('dados/brutos/Contagens Açude Velho - Bob´s - Carros.csv') %>%
ajeita.formato(ultimas.linhas = 1, ultimas.colunas = 2)
grep(names(bobs.carros), pattern = 'trajeto\\.[0-9]+')
bobs.carros[grep(names(bobs.carros), pattern = 'trajeto\\.[0-9]+')]
rowSums(bobs.carros[grep(names(bobs.carros), pattern = 'trajeto\\.[0-9]+')])
ajeita.formato <- function(d, ultimas.linhas, ultimas.colunas) {
d %>%
rename(horario.inicial = X, horario.final = X.1) %>%
head(nrow(.)-ultimas.linhas) %>%
select(., -one_of(names(.[(ncol(.)-1+ultimas.colunas):ncol(.)]))) %>%
mutate(total = rowSums(.[grep(names(.), pattern = 'trajeto\\.[0-9]+')]))
}
bobs.carros %>%
ajeita.formato(1,2)
ajeita.formato <- function(d, ultimas.linhas, ultimas.colunas) {
d %>%
rename(horario.inicial = X, horario.final = X.1) %>%
head(nrow(.)-ultimas.linhas) %>%
select(., -one_of(names(.[(ncol(.)-1+ultimas.colunas):ncol(.)])))
}
bobs.carros %>%
ajeita.formato(1,2)
bobs.carros %>%
ajeita.formato(1,1)
ajeita.formato <- function(d, ultimas.linhas, ultimas.colunas) {
d %>%
rename(horario.inicial = X, horario.final = X.1) %>%
head(nrow(.)-ultimas.linhas) %>%
select(., -one_of(names(.[(1+ncol(.)-ultimas.colunas):ncol(.)])))
}
bobs.carros %>%
ajeita.formato(1,2)
ajeita.formato <- function(d, ultimas.linhas, ultimas.colunas) {
d %>%
rename(horario.inicial = X, horario.final = X.1) %>%
head(nrow(.)-ultimas.linhas) %>%
select(., -one_of(names(.[(1+ncol(.)-ultimas.colunas):ncol(.)]))) %>%
mutate(total = rowSums(.[grep(names(.), pattern = 'trajeto\\.[0-9]+')]))
}
bobs.carros %>%
ajeita.formato(1,2)
bobs.carros <- read.csv('dados/brutos/Contagens Açude Velho - Bob´s - Carros.csv') %>%
ajeita.formato(ultimas.linhas = 1, ultimas.colunas = 2)
rename(onibus = ônibus, caminhao = caminhão)
bobs.carros <- read.csv('dados/brutos/Contagens Açude Velho - Bob´s - Carros.csv') %>%
ajeita.formato(ultimas.linhas = 1, ultimas.colunas = 2) %>%
rename(onibus = ônibus, caminhao = caminhão)
View(bobs.carros)
bobs.ciclistas <- read.csv('dados/brutos/Contagens Açude Velho - Bob´s - Ciclistas.csv')
View(bobs.ciclistas)
bobs.ciclistas <- read.csv('dados/brutos/Contagens Açude Velho - Bob´s - Ciclistas.csv') %>%
ajeita.formato(ultimas.linhas = 2, ultimas.colunas = 1)
View(bobs.ciclistas)
bobs.motos <- read.csv('dados/brutos/Contagens Açude Velho - Bob´s - Motos.csv')
View(bobs.motos)
bobs.motos <- read.csv('dados/brutos/Contagens Açude Velho - Bob´s - Motos.csv') %>%
ajeita.formato(ultimas.linhas = 1, ultimas.colunas = 1)
View(bobs.motos)
View(bobs.carros)
bobs.pedestres <- read.csv('dados/brutos/Contagens Açude Velho - Bob´s - Pedestres.csv')
View(bobs.pedestres)
bobs.pedestres <- read.csv('dados/brutos/Contagens Açude Velho - Bob´s - Pedestres.csv') %>%
ajeita.formato(ultimas.linhas = 2, ultimas.colunas = 1)
View(bobs.pedestres)
burrinhos.carros <- read.csv('dados/brutos/Contagens Açude Velho - Burrinhos - Carros.csv')
View(burrinhos.carros)
tail(bobs.carros, 1)
tail(bobs.carros, 2:nrow(bobs.carros))
tail(bobs.carros, nrow(bobs.carros)-1)
ajeita.formato <- function(d, primeiras.linhas = 0, ultimas.linhas = 0, primeiras.colunas = 0, ultimas.colunas = 0) {
d %>%
rename(horario.inicial = X, horario.final = X.1) %>%
head(nrow(.)-ultimas.linhas) %>%
tail(nrow(.)-primeiras.linhas) %>%
select(., -one_of(names(.[(1+ncol(.)-ultimas.colunas):ncol(.)]))) %>%
mutate(total = rowSums(.[grep(names(.), pattern = 'trajeto\\.[0-9]+')]))
}
source('~/Projetos/lab-rua/pessoas-no-acude/src/juntador.R', echo=TRUE)
bobs.carros <- read.csv('dados/brutos/Contagens Açude Velho - Bob´s - Carros.csv'
bobs.carros <- read.csv('dados/brutos/Contagens Açude Velho - Bob´s - Carros.csv') %>%
ajeita.formato(ultimas.linhas = 1, ultimas.colunas = 2) %>%
rename(onibus = ônibus, caminhao = caminhão)
bobs.carros <- read.csv('dados/brutos/Contagens Açude Velho - Bob´s - Carros.csv')
View(bobs.carros)
bobs.carros <- read.csv('dados/brutos/Contagens Açude Velho - Bob´s - Carros.csv') %>%
ajeita.formato(ultimas.linhas = 1, ultimas.colunas = 2)
View(bobs.carros)
bobs.carros <- read.csv('dados/brutos/Contagens Açude Velho - Bob´s - Carros.csv')
read.csv('dados/brutos/Contagens Açude Velho - Bob´s - Carros.csv') %>%
ajeita.formato(ultimas.linhas = 1, ultimas.colunas = 2)
read.csv('dados/brutos/Contagens Açude Velho - Bob´s - Carros.csv') %>%
ajeita.formato(primeiras.linhas = 2, ultimas.linhas = 1, ultimas.colunas = 2)
ajeita.formato <- function(d, primeiras.linhas = 0, ultimas.linhas = 0, primeiras.colunas = 0, ultimas.colunas = 0) {
d %>%
rename(horario.inicial = X, horario.final = X.1) %>%
head(nrow(.)-ultimas.linhas) %>%
tail(nrow(.)-primeiras.linhas) %>%
select(., one_of(names(.[primeiras.colunas+1:(1+ncol(.)-ultimas.colunas)]))) %>%
mutate(total = rowSums(.[grep(names(.), pattern = 'trajeto\\.[0-9]+')]))
}
bobs.carros %>%
ajeita.formato(ultimas.linhas = 1, ultimas.colunas = 2)
ajeita.formato <- function(d, primeiras.linhas = 0, ultimas.linhas = 0, primeiras.colunas = 0, ultimas.colunas = 0) {
d %>%
rename(horario.inicial = X, horario.final = X.1) %>%
head(nrow(.)-ultimas.linhas) %>%
tail(nrow(.)-primeiras.linhas) %>%
select(., one_of(names(.[(primeiras.colunas+1):(1+ncol(.)-ultimas.colunas)]))) %>%
mutate(total = rowSums(.[grep(names(.), pattern = 'trajeto\\.[0-9]+')]))
}
bobs.carros %>%
ajeita.formato(ultimas.linhas = 1, ultimas.colunas = 2)
test <- function(d, primeiras.linhas = 0, ultimas.linhas = 0, primeiras.colunas = 0, ultimas.colunas = 0) {
d %>%
select(., one_of(names(.[(primeiras.colunas+1):(1+ncol(.)-ultimas.colunas)])))
}
bobs.carros %>%
test()
one_of
one_of(names(bobs.carros[2:10]))
names(bobs.carros[2:10])
one_of(bobs.carros, names(bobs.carros[2:10]))
one_of(bobs.carros, names(bobs.carros[2:10]))
test <- function(d, primeiras.linhas = 0, ultimas.linhas = 0, primeiras.colunas = 0, ultimas.colunas = 0) {
d %>%
select(., one_of(names(.[(primeiras.colunas+1):(1+ncol(.)-ultimas.colunas)])))
}
bobs.carros %>%
test()
test <- function(d, primeiras.linhas = 0, ultimas.linhas = 0, primeiras.colunas = 0, ultimas.colunas = 0) {
d %>%
select(., one_of(names(.[(primeiras.colunas+1):(ncol(.)-ultimas.colunas)])))
}
test()
test(bobs.carros)
test(bobs.carros, ultimas.colunas = 1)
test(bobs.carros, ultimas.colunas = 2)
test(bobs.carros, ultimas.colunas = 2, primeiras.colunas = 1)
test(bobs.carros, ultimas.colunas = 2, primeiras.colunas = 2)
bobs.carros <- read.csv('dados/brutos/Contagens Açude Velho - Bob´s - Carros.csv') %>%
ajeita.formato(ultimas.linhas = 1, ultimas.colunas = 2) %>%
rename(onibus = ônibus, caminhao = caminhão)
bobs.carros <- read.csv('dados/brutos/Contagens Açude Velho - Bob´s - Carros.csv') %>%
ajeita.formato(ultimas.linhas = 1, ultimas.colunas = 2) %>%
rename(onibus = ônibus, caminhao = caminhão)
ajeita.formato <- function(d, primeiras.linhas = 0, ultimas.linhas = 0, primeiras.colunas = 0, ultimas.colunas = 0) {
d %>%
rename(horario.inicial = X, horario.final = X.1) %>%
head(nrow(.)-ultimas.linhas) %>%
tail(nrow(.)-primeiras.linhas) %>%
select(., one_of(names(.[(primeiras.colunas+1):(ncol(.)-ultimas.colunas)]))) %>%
mutate(total = rowSums(.[grep(names(.), pattern = 'trajeto\\.[0-9]+')]))
}
bobs.carros <- read.csv('dados/brutos/Contagens Açude Velho - Bob´s - Carros.csv') %>%
ajeita.formato(ultimas.linhas = 1, ultimas.colunas = 2) %>%
rename(onibus = ônibus, caminhao = caminhão)
View(bobs.carros)
bobs.ciclistas <- read.csv('dados/brutos/Contagens Açude Velho - Bob´s - Ciclistas.csv') %>%
ajeita.formato(ultimas.linhas = 2, ultimas.colunas = 1)
bobs.motos <- read.csv('dados/brutos/Contagens Açude Velho - Bob´s - Motos.csv') %>%
ajeita.formato(ultimas.linhas = 1, ultimas.colunas = 1)
bobs.pedestres <- read.csv('dados/brutos/Contagens Açude Velho - Bob´s - Pedestres.csv') %>%
ajeita.formato(ultimas.linhas = 2, ultimas.colunas = 1)
View(bobs.ciclistas)
burrinhos.carros <- read.csv('dados/brutos/Contagens Açude Velho - Burrinhos - Carros.csv') %>%
ajeita.formato(primeiras.linhas = 1, ultimas.linhas = 2, ultimas.colunas = 1)
View(burrinhos.carros)
burrinhos.carros <- read.csv('dados/brutos/Contagens Açude Velho - Burrinhos - Carros.csv')
View(burrinhos.carros)
burrinhos.carros <- read.csv('dados/brutos/Contagens Açude Velho - Burrinhos - Carros.csv') %>%
ajeita.formato(primeiras.linhas = 1, ultimas.linhas = 1, ultimas.colunas = 2)
View(burrinhos.carros)
burrinhos.ciclistas <- read.csv('dados/brutos/Contagens Açude Velho - Burrinhos - Ciclistas.csv')
View(burrinhos.ciclistas)
burrinhos.ciclistas <- read.csv('dados/brutos/Contagens Açude Velho - Burrinhos - Ciclistas.csv') %>%
ajeita.formato(primeiras.linhas = 1, ultimas.linhas = 1)
View(burrinhos.ciclistas)
burrinhos.motos <- read.csv('dados/brutos/Contagens Açude Velho - Burrinhos - Motos.csv')
View(burrinhos.motos)
burrinhos.motos <- read.csv('dados/brutos/Contagens Açude Velho - Burrinhos - Motos.csv') %>%
ajeita.formato(ultimas.linhas = 1, ultimas.colunas = 2)
View(burrinhos.motos)
burrinhos.pedestres <- read.csv('dados/brutos/Contagens Açude Velho - Burrinhos - Pedestres.csv')
View(burrinhos.pedestres)
